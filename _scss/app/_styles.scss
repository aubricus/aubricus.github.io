// globals ----------------------------------------------------------------- //

@import "susy";
@import "breakpoint";

@import "vendor/bourbon";
@import "vendor/normalize";

// ..note:
//      order matters, this line must come before built imports
@import "./config";

@import "vendor/built/core";
@import "vendor/built/app";
@import "vendor/built/grids/twbs";

// init -------------------------------------------------------------------- //

@include print-normalize();
@include print-built-app-scaffold();
@include print-built-app-helpers();

// project ----------------------------------------------------------------- //

@import "./pygments";
@import "./fonts";
@import "./ui";


// TEMP; for prototyping only; TODO: refactor out

// extends

.default-anchor {
    text-decoration: none;
    color: $color-tundora-gray;

    @include transition(all 0.3s $ease-out-cubic);
}

.pretty-anchor {
    background: $color-mabel-blue;
    border-bottom: 1px solid transparent;

    &:hover {
        background: transparent;
        border-color: $color-mabel-blue;
        padding-bottom: 5px;
    }
}

// globals

[class*=col-] {
    position: relative;
}

a {
    @extend .default-anchor;
}

.post__content,
.generic__content,
.next__link,
.footer__copyright {
    a {
        @extend .pretty-anchor;
    }
}

// Jekyll classes

.notice {
    border: 1px solid #EFEFEF;
    border-left-width: 3px;
    border-left-color: $color-sandy-brown;
    padding: 20px;
    margin: 1.5rem 0;
}

// header

.header-block {
    border-bottom: 1px solid $color-tundora-gray;
    margin-bottom: 30px;
}

.site-header {
    margin-top: 15px;
    padding-bottom: 15px;

    .mark {
        line-height: 1;
    }

    .mark__logo {
        font-size: 55px;
        color: $color-tundora-gray;
    }
}

.header__nav {
    .nav__list {
        padding: 11px 0;
        text-align: right;
    }

    .nav__link {
        display: inline-block;
        padding: 0 6px;

        &.active {
            background: $color-tundora-gray;

            a {
                color: white;
            }
        }

        a {
            // text-decoration: none;
            // color: $color-tundora-gray;
        }
    }
}

// footer

.footer-block {
    border-top: 1px solid $color-tundora-gray;

}

.site-footer {
    margin-bottom: gutter();
    padding-top: gutter();
    text-align: center;
    color: $color-gray;
    font-weight: normal;
    font-size: font-scale(-1) + 0px;
    line-height: 1.2;


    a {
        color: $color-gray;
        // text-decoration: none;
    }
}

.footer__copyright {
    margin-top: 8px;
}

.footer__license {

}

// sidebar

.sidebar,
.recent-posts {
    text-align: left;
}

.sidebar {
    margin-bottom: font-scale(3) + 0px;
}

.sidebar__img {
    display: inline-block;
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 1px;

    @include size(100px);

    // minor reset
    img {
        @include fluid-image();
        display: block;

        margin: 0;
        padding: 0;
    }

}

.sidebar__header {
    margin-bottom: font-scale(0) + 0px;

    .header__text {
        font-size: font-scale(2) + 0px;
        margin-bottom: font-scale(-3) + 0px;
    }
    .header__sub {
        max-width: 70%;
        font-size: font-scale(-1) + 0px;
        font-style: italic;
        line-height: 1.3;
        letter-spacing: 0.0150em;
    }
}

.sidebar__links {
    overflow: hidden; // clearfix alt
    max-width: 340px;

    .link {


        font-size: font-scale(-1) + 0px;

        margin-bottom: font-scale(-6) + 0px;
        margin-right: font-scale(-6) + 0px;

        min-width: 105px;
        float: left;

        a {
            @include transition(left 0.3s $ease-out-cubic);
            position: relative;
            left: 0; top: 0;

            &:hover {
                left: 10px;

                .link__icon {
                    @include transform(rotate(45deg));
                }
            }

        }
    }
    .link__icon {
        margin-right: font-scale(-1) + 0px;

        @include transition(all 0.3s $ease-out-cubic);
    }
}

// home

.page--home {

}

.recent-posts {
    margin-bottom: 70px;

    .post__title {
        margin-bottom: 5px;
        font-size: font-scale(4) + 0px;
    }

    .post__date {
        font-size: font-scale(-1) + 0px;
        color: $color-gray;
        margin-bottom: 15px;
    }

    .post__excerpt {
        margin-bottom: 0;
    }
}

.recent__post {
    margin: 0 -15px;
    padding: 0 15px;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid $color-gallery-gray;

    &:last-child {
        border: none;
    }

    @include transition(color 0.3s $ease-out-cubic);

    &:hover .post__link {
        color: $color-gray;
    }
}

.recent__header,
.next__header {
    text-transform: uppercase;
    font-size: font-scale(-1) + 0px;
    margin-bottom: font-scale(3) + 0px;
    margin-left: -15px;
    margin-right: -15px;
    padding: 0 15px;
    background: $color-tundora-gray;
    color: white;
    padding-top: 6px;
    padding-bottom: 8px;
}

.recent__list {

}

// post page

.page--post {

}

.post {
    margin-top: -8px;
    margin-bottom: font-scale(4) + 0px;
}

.post__header {
    // margin-bottom: 30px;
}

.post__title {
    font-size: font-scale(5) + 0px;
    margin-bottom: 8px;
    line-height: 1;
}

.post__date,
.post__tags {
    font-size: font-scale(-1) + 0px;
    color: $color-gray;
    margin-bottom: 0;
    line-height: 1.5;
}

.post__content {
    margin-top: 22px;

    // injected markup cannot have classes,
    // nesting under post to scope these tags
    // todo: may need to elevate this .injected-content?

    p {
        margin-bottom: 1.0rem;
    }

    .notice {
        margin: 1.5rem 0;
    }

    h3 {
        line-height: 1.65;
        border-bottom: 1px solid $color-gallery-gray;
    }

    figure {
        margin-left: 0;
    }

    img {
        width: 100%;
    }

    ul {
        margin-bottom: 1em;
        list-style-type: disc;
        margin-left: 1.65em;
    }
}

.next-post {
    margin-bottom: 70px;
}

.next__header {
    margin-bottom: font-scale(0) + 0px;
}

.next__title {
    font-size: font-scale(3) + 0px;
    font-weight: bold;
    line-height: 1.15;
    margin-bottom: 18px;
}

.next__excerpt {

}

.next__link {
    a {
        // color: $color-tundora-gray;
        // text-decoration: none;
    }

    .link-icon {
        display: inline-block;
        margin-left: 5px;
        top: 2px;
        position: relative;
    }
}


// generic page

.page--generic {

}

.generic__article {
    margin-top: -8px;
}

.generic__header {
    .header__text {
        font-size: font-scale(5) + 0px;
        margin-bottom: 0;
    }
}

.generic__content {
    min-height: 600px;
    margin: 18px 0 70px;

    h2, h3, h4, h5, h6 {
        line-height: 1.65;
    }

    h3 {
        border-bottom: 1px solid $color-gallery-gray;
    }

    ul {
        margin-bottom: 1em;
        list-style-type: disc;
    }
}

@include breakpoint(map-get($built-twbs, grid-width-sm)) {
    .generic__header {
        .header__text {
            font-size: font-scale(7) + 0px;
        }
    }

    .recent__header,
    .next__header {
        margin-left: 0;
        margin-right: 0;
        display: inline-block;
    }
}

@include breakpoint(map-get($built-twbs, grid-width-md)) {
    .sidebar__links {
        .link {
            float: none;
        }
    }
}

@include breakpoint(map-get($built-twbs, grid-width-lg)) {

}

